<div class="bg-neutral-950 border border-gray-800 rounded-lg h-full">
  <div class="border-b border-gray-800 p-6">
    <h3 class="text-lg font-semibold text-gray-100">Transações Recentes</h3>
  </div>

  <div class="p-6">
    @if (isLoading()) {
    <div class="space-y-4">
      @for (i of [1,2,3,4,5]; track i) {
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 bg-gray-800 rounded-full animate-pulse"></div>
        <div class="flex-1 space-y-2">
          <div class="h-4 w-3/4 bg-gray-800 rounded animate-pulse"></div>
          <div class="h-3 w-1/2 bg-gray-800 rounded animate-pulse"></div>
        </div>
      </div>
      }
    </div>
    } @else if (transactions().length > 0) {
    <div class="space-y-4">
      @for (transaction of transactions(); track transaction.id) {
      <div class="flex items-center">
        <div class="p-2 rounded-full mr-3 bg-gray-800">
          @if (transaction.type === 'income') {
          <lucide-angular
            [img]="trendingUpIcon"
            class="h-5 w-5 text-emerald-500"
          />
          } @else {
          <lucide-angular
            [img]="trendingDownIcon"
            class="h-5 w-5 text-red-500"
          />
          }
        </div>
        <div class="grow">
          <p class="font-medium text-gray-100">{{ transaction.title }}</p>
          <p class="text-sm text-gray-400">
            {{ getCategoryName(transaction.categoryId) }}
          </p>
        </div>
        <div class="text-right">
          <p
            [class]="
              transaction.type === 'income'
                ? 'text-emerald-500'
                : 'text-red-500'
            "
            class="font-semibold"
          >
            {{ formatCurrency(transaction.amount) }}
          </p>
          <p class="text-sm text-gray-400">
            {{ formatDate(transaction.date) }}
          </p>
        </div>
      </div>
      }
    </div>

    <div class="mt-68 text-center">
      <a
        [routerLink]="'/transactions'"
        class="text-emerald-500 hover:text-emerald-400 text-sm font-medium"
      >
        Ver todas as transações →
      </a>
    </div>
    } @else {
    <div class="flex items-center justify-center h-32 text-gray-500">
      <p>Nenhuma transação recente.</p>
    </div>
    }
  </div>
</div>
